# 发布/订阅

将向多个消费者传递一个消息。这就是所谓的“订阅/发布模式”。

---

RabbitMQ 消息传递模型中的核心思想是：**生产者从不将任何消息直接发送到队列**。实际上，生产者经常甚至根本不知道是否将消息传递到任何队列。

相反，**生产者只能将消息发送到交换器**。交换器是非常简单的东西。一方面，它接收来自生产者的消息，另一方面，将它们推入队列。交换器必须确切知道如何处理接收到的消息。它应该被附加到特定的队列吗？还是应该将其附加到许多队列中？或者它应该被丢弃。这些规则由交换器的类型定义。

## 运行

启动订阅者

> 可以在多个终端启动多个

```bash
go run subscribe.go
```

启动发布者

```bash
go run publish.go helloworld
```

现象是：发布者发送了一条消息，多个订阅者终端都可以收到同一条消息。

并且每增加一个订阅者终端，那么就会多一个 `rabbitmqctl list_bindings` 绑定，当停止一个订阅者终端时，也就会减少一个 `rabbitmqctl list_bindings` 绑定。