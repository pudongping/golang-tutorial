# 一些 json 操作小技巧

## 将数字类型传递给前端造成数字失真问题

[代码示例](./digital_distortion.go)

**问题描述：**

后端传递一个比较大的数给到前端 js，但是 js 中的数字类型范围并没有那么大，因此可能导致数据失真，为了不让数据失真，我们考虑通过字符串的形式进行传输数据，
那这个时候就会产生一个新的问题：因为我们在后端的 user_id 是一个 int64 类型，我们给到前端需要是一个 string 类型，然后前端传递给我们的也是 string 类型，然后
我们还需要优雅的将 string 类型转化成 int64 类型，那么怎么做呢？

**其实只需要在结构体 json tag 后添加 string 就可以了**，可以详见示例代码。

## 忽略嵌套结构体空值字段

[代码示例](./omitempty.go)

当结构体中的字段为空值时，我们不想将其序列化到 json 中，那么我们可以通过 omitempty tag 来实现。

## 直接忽略某个结构体字段

[代码示例](./ignore.go)

当我们不想序列化某个字段时，我们可以通过 "-" 来实现。

